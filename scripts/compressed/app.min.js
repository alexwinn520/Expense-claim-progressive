"use strict";function configFile(e){e.debugInfoEnabled(!1)}function buttonEvent(){return{scope:!0,require:["^touchStart","^touchEnd"],link:function(e,t,o,n){e.buttonFocused=!1;var r=function(){e.buttonFocused=!e.buttonFocused};t.on("mousedown",function(t){t.preventDefault(),e.$apply(r)}),t.on("mouseup",function(t){t.preventDefault(),e.$apply(r)}),t.on("touchstart",function(){e.$apply(r)}),t.on("touchend",function(){e.$apply(r)})}}}function fileread(){return{scope:{fileread:"="},require:"ngModel",link:function(e,t,o,n){t.bind("change",function(t){var o=new FileReader,r=t.target.files,i=r[0];o.onload=function(t){e.$apply(function(){e.fileread=t.target.result})},o.readAsDataURL(i),n.$setViewValue(i)})}}}function touchEnd(){return{scope:!0,controller:["$scope","$element",function(e,t){function o(o){var n=t.attr("touch-end");e.$event=o,e.$apply(n)}t.bind("touchend",o)}]}}function touchMove(){return{controller:["$scope","$element",function(e,t){function o(e){e.preventDefault(),t.bind("touchmove",n),t.bind("touchend",r)}function n(o){var n=t.attr("touch-move");e.$event=o,e.$apply(n)}function r(e){e.preventDefault(),t.unbind("touchmove",n),t.unbind("touchend",r)}t.bind("touchstart",o)}]}}function touchStart(){return{scope:!0,controller:["$scope","$element",function(e,t){function o(o){var n=t.attr("touch-start");e.$event=o,e.$apply(n)}t.bind("touchstart",o)}]}}function touchTap(){return{controller:["$scope","$element",function(e,t){function o(e){t.bind("touchmove",n),t.bind("touchend",r)}function n(e){i=!0}function r(o){if(t.unbind("touchmove",n),t.unbind("touchend",r),!i){var u=t.attr("touch-tap");e.$apply(u)}}var i=!1;t.bind("touchstart",o)}]}}function ocrService(e){return e("https://westus.api.cognitive.microsoft.com/vision/v1.0/ocr?",null,{save:{method:"POST",params:{language:"unk",detectOrientation:"true"},headers:{"Content-Type":"application/octet-stream","Ocp-Apim-Subscription-Key":"36b089b183604598abda22b62cc8a0b1"}}})}angular.module("progressiveApp",["progressiveApp.mainController","progressiveApp.constValueController","progressiveApp.ocrService","progressiveApp.FileUploadDirective","progressiveApp.touchStartDirective","progressiveApp.touchEndDirective","progressiveApp.touchMoveDirective","progressiveApp.touchTapDirective","progressiveApp.buttonEventDirective","LocalForageModule"]).config(configFile),configFile.$inject=["$compileProvider"],function(){function e(e){function t(e,t){console.log(t),e=!!(t&&t.length>0),t&&console.log(t.length)}var o=this;o.showInputLabels=t,o.offices=["Auckland","Group","Manila","Seattle","Singapore","Suite","Wellington"],o.constValues={name:"",team:"",office:""}}angular.module("progressiveApp.constValueController",[]),e.$inject=["$localForage"],angular.module("progressiveApp.constValueController").controller("constValueController",e)}(),function(){function e(e,t){function o(t){l.loading=!0;var o=c(t);e.save(o,function(e){l.textReturn=e,l.loading=!1},function(e){console.log(e),l.loading=!1}).$promise.then(n)}function n(){for(var e=l.textReturn.regions[0].lines,t=[],o=0;o<e.length;o++)Object.values(e[o].words).forEach(function(e){t.push(e.text)});console.log(t.toString())}function r(){var e={name:l.inputDefaultSate};return u(e)}function i(){var e=event.target.files[0];return u(e)}function u(e){l.photoPayload={filename:e.name,url:e}}function c(e){var t,o,n,r=";base64,";if(e.indexOf(r)===-1)return t=e.split(","),o=t[0].split(":")[1],n=decodeURIComponent(t[1]),new Blob([n],{type:o});t=e.split(r),o=t[0].split(":")[1],n=window.atob(t[1]);for(var i=n.length,u=new Uint8Array(i),c=0;c<i;++c)u[c]=n.charCodeAt(c);return new Blob([u],{type:o})}function a(e){t.setItem("defaultStoredValues",e).then(function(e){l.defaultStoredValues=e})}var l=this;l.postPhoto=o,l.clearImage=r,l.uploadImage=i,l.setDefaultValues=a,l.loading=!1,l.textReturn="",l.inputDefaultSate="Attach File...",l.photoPayload={filename:l.inputDefaultSate,url:""}}angular.module("progressiveApp.mainController",[]),e.$inject=["ocrService","$localForage"],angular.module("progressiveApp.mainController").controller("mainController",e)}(),angular.module("progressiveApp.buttonEventDirective",[]).directive("buttonEvent",buttonEvent),angular.module("progressiveApp.FileUploadDirective",[]).directive("fileread",fileread),angular.module("progressiveApp.touchEndDirective",[]).directive("touchEnd",touchEnd),angular.module("progressiveApp.touchMoveDirective",[]).directive("touchMove",touchMove),angular.module("progressiveApp.touchStartDirective",[]).directive("touchStart",touchStart),angular.module("progressiveApp.touchTapDirective",[]).directive("touchTap",touchTap),angular.module("progressiveApp.ocrService",["ngResource"]),ocrService.$inject=["$resource"],angular.module("progressiveApp.ocrService").factory("ocrService",ocrService),function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("./service-worker.js").then(function(){console.log("Service Worker Registered")})}();